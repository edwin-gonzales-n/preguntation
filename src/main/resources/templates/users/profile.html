<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="partials/navbar :: head('Profile')">
    <script>
        $('body').on('hidden', function () {
            $(this).removeData('modal-content');
        });
    </script>
</head>
<body>
<nav th:replace="partials/navbar :: navbar"></nav>

<h1>This is your profile page</h1>

<div>
    <!--<a th:href="@{/trivia}" class="btn btn-outline btn-outline-primary d-inline-block">Play Game</a>-->
    <a th:onclick="|getQuestion()|" class="btn btn-outline btn-outline-primary d-inline-block">Play Game</a>
</div>

<div id="questions" class="container"></div>

<script th:replace="partials/navbar :: scripts"></script>
<script src="https://cdn.jsdelivr.net/jsbarcode/3.6.0/JsBarcode.all.min.js"></script>
<script th:inline="javascript">
    JsBarcode(".barcode").init();
</script>
<script>
    function ajaxRequest(){
        $.get("/triviaAllQuestions",function(questions) {
            console.log('Beginning console log - success', questions);
            console.log("Length of questions is: "+questions.length);
        }).done(function(questions){
            console.log(" This is the done message -- success", questions);
            // $.each(questions,function (i,question) {
            //     console.log("this is the each output: " + question.id);
            //     $('#questions').append('<div class="container">');
            //     $('#questions').append('<h3>'+question.question+'</h3>');
            //     $('#questions').append('</div>');
            // });
        });
    }

    function getQuestion() {
        $.get("/triviaEachQuestion",function (question) {
            console.log(question);
        }).done(function (question) {
            $('#questions').append('<div class="container">');
            $('#questions').append('<h3>'+question.question+'</h3>');
            $('#questions').append('<a th:onclick="|getQuestion()|" class="btn btn-outline btn-outline-primary d-inline-block">Next Question</a>');
            $('#questions').append('</div>');
        });
    }

</script>
</body>
</html>